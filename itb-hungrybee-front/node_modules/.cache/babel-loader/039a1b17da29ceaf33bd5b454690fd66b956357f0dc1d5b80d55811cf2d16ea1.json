{"ast":null,"code":"import client from \"../../api\";\nexport default {\n  namespaced: true,\n  state: {\n    isAuthenticated: false\n    // userData: null\n  },\n\n  actions: {\n    checkAuth(ctx) {\n      return client.post(\"/api/auth\", {}, {\n        headers: {\n          Authorization: localStorage.getItem('hungrybeeToken')\n        }\n      }).then(response => {\n        console.log(response.data);\n        ctx.commit('setUserData', response.data.user);\n        ctx.commit('setAuthentication', true);\n        localStorage.setItem(\"hungrybeeToken\", response.data.token);\n        return response;\n      });\n    },\n    login(ctx, payload) {\n      return client.post(\"/api/account/login\", payload).then(response => {\n        console.log(\"/api/account/login\");\n        console.log(response);\n        ctx.commit('setAuthentication', true);\n        localStorage.setItem(\"hungrybeeToken\", response.data.token);\n        return response;\n      });\n    }\n  },\n  mutations: {\n    // setUserData(state, userData) {\n    //   state.userData = userData\n    // },\n\n    setAuthentication(state, value) {\n      state.isAuthenticated = value;\n    },\n    logout(state) {\n      state.isAuthenticated = false;\n      localStorage.removeItem(\"hungrybeeToken\");\n    }\n  },\n  getters: {\n    isAuth(state) {\n      return state.isAuthenticated;\n    }\n    // getUser(state) {\n    //   return state.userData\n    // }\n  }\n};","map":{"version":3,"names":["client","namespaced","state","isAuthenticated","actions","checkAuth","ctx","post","headers","Authorization","localStorage","getItem","then","response","console","log","data","commit","user","setItem","token","login","payload","mutations","setAuthentication","value","logout","removeItem","getters","isAuth"],"sources":["/Users/dereklee/Project/itb-hungrybee-front/src/store/modules/auth.js"],"sourcesContent":["import client from \"../../api\";\n\n\nexport default {\n  namespaced: true,\n  state: {\n    isAuthenticated: false,\n    // userData: null\n  },\n\n  actions: {\n    checkAuth(ctx){\n      return client.post(\"/api/auth\", {}, {\n        headers: {\n          Authorization: localStorage.getItem('hungrybeeToken')\n        }\n      })\n      .then((response) => {\n        console.log(response.data)\n        ctx.commit('setUserData', response.data.user)\n        ctx.commit('setAuthentication', true)\n        localStorage.setItem(\"hungrybeeToken\", response.data.token);\n\n        return response\n      })\n    },\n    login (ctx, payload) {\n      return client.post(\"/api/account/login\", payload)\n      .then((response) => {\n        console.log(\"/api/account/login\")\n        console.log(response)\n        ctx.commit('setAuthentication', true)\n        localStorage.setItem(\"hungrybeeToken\", response.data.token);\n\n        return response\n      })\n    }\n  },\n\n  mutations: {\n    // setUserData(state, userData) {\n    //   state.userData = userData\n    // },\n\n    setAuthentication(state, value){\n      state.isAuthenticated = value\n    },\n    \n    logout(state){\n      state.isAuthenticated = false\n      localStorage.removeItem(\"hungrybeeToken\");\n    }\n  },\n\n  getters: {\n    isAuth(state) {\n      return state.isAuthenticated\n    },\n    // getUser(state) {\n    //   return state.userData\n    // }\n  },\n}"],"mappings":"AAAA,OAAOA,MAAM,MAAM,WAAW;AAG9B,eAAe;EACbC,UAAU,EAAE,IAAI;EAChBC,KAAK,EAAE;IACLC,eAAe,EAAE;IACjB;EACF,CAAC;;EAEDC,OAAO,EAAE;IACPC,SAAS,CAACC,GAAG,EAAC;MACZ,OAAON,MAAM,CAACO,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE;QAClCC,OAAO,EAAE;UACPC,aAAa,EAAEC,YAAY,CAACC,OAAO,CAAC,gBAAgB;QACtD;MACF,CAAC,CAAC,CACDC,IAAI,CAAEC,QAAQ,IAAK;QAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC;QAC1BV,GAAG,CAACW,MAAM,CAAC,aAAa,EAAEJ,QAAQ,CAACG,IAAI,CAACE,IAAI,CAAC;QAC7CZ,GAAG,CAACW,MAAM,CAAC,mBAAmB,EAAE,IAAI,CAAC;QACrCP,YAAY,CAACS,OAAO,CAAC,gBAAgB,EAAEN,QAAQ,CAACG,IAAI,CAACI,KAAK,CAAC;QAE3D,OAAOP,QAAQ;MACjB,CAAC,CAAC;IACJ,CAAC;IACDQ,KAAK,CAAEf,GAAG,EAAEgB,OAAO,EAAE;MACnB,OAAOtB,MAAM,CAACO,IAAI,CAAC,oBAAoB,EAAEe,OAAO,CAAC,CAChDV,IAAI,CAAEC,QAAQ,IAAK;QAClBC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;QACjCD,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;QACrBP,GAAG,CAACW,MAAM,CAAC,mBAAmB,EAAE,IAAI,CAAC;QACrCP,YAAY,CAACS,OAAO,CAAC,gBAAgB,EAAEN,QAAQ,CAACG,IAAI,CAACI,KAAK,CAAC;QAE3D,OAAOP,QAAQ;MACjB,CAAC,CAAC;IACJ;EACF,CAAC;EAEDU,SAAS,EAAE;IACT;IACA;IACA;;IAEAC,iBAAiB,CAACtB,KAAK,EAAEuB,KAAK,EAAC;MAC7BvB,KAAK,CAACC,eAAe,GAAGsB,KAAK;IAC/B,CAAC;IAEDC,MAAM,CAACxB,KAAK,EAAC;MACXA,KAAK,CAACC,eAAe,GAAG,KAAK;MAC7BO,YAAY,CAACiB,UAAU,CAAC,gBAAgB,CAAC;IAC3C;EACF,CAAC;EAEDC,OAAO,EAAE;IACPC,MAAM,CAAC3B,KAAK,EAAE;MACZ,OAAOA,KAAK,CAACC,eAAe;IAC9B;IACA;IACA;IACA;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}