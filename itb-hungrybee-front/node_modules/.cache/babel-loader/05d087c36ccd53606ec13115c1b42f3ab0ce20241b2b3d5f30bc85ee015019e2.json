{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport BasketCard from \"@/components/Cards/BasketCard.vue\";\nimport { mapMutations, mapState } from \"vuex\";\nexport default {\n  name: \"CartPage\",\n  data() {\n    return {\n      subTotal: 0,\n      deliveryFee: 0,\n      serviceFee: 0,\n      totalPrice: 0\n    };\n  },\n  computed: {\n    ...mapState(\"cart\", [\"cart\", \"cartCount\"])\n  },\n  methods: {\n    clearCart: function () {\n      this.$store.commit(\"cart/clearCart\");\n      this.updateTotal();\n    },\n    updateTotal() {\n      this.subTotal = this.cart.reduce((acc, item) => acc + item.price * item.quantity, 0);\n      this.deliveryFee = 20;\n      this.serviceFee = this.subTotal * 0.025;\n      this.totalPrice = this.subTotal + this.deliveryFee + this.serviceFee;\n    },\n    submitCart() {\n      this.$router.push(\"/orders\");\n    }\n  },\n  mounted() {\n    this.updateTotal();\n  },\n  components: {\n    BasketCard\n  }\n};","map":{"version":3,"mappings":";AA6BA;AACA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IAAAC;EAAA;AACA","names":["name","data","subTotal","deliveryFee","serviceFee","totalPrice","computed","methods","clearCart","updateTotal","submitCart","mounted","components","BasketCard"],"sourceRoot":"src/pages","sources":["CartPage.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <h2 class=\"cart-page__heading\"><span>Cart</span><button @click=\"clearCart\">Clear cart</button></h2>\n\n\n    <div class=\"cart-page__content\">\n      <h3 class=\"cart-page__content-title\">Products list</h3>\n\n      <div>\n        <CartItemCard v-for=\"(item, index) in cart\" :key=\"item.id\" :item=\"item\" :index=\"index\"\n          @updateTotal=\"updateTotal\" />\n      </div>\n    </div>\n\n    <div class=\"cart-page__footer\">\n      <BasketCard\n        :subTotal=\"subTotal\"\n        :deliveryFee=\"deliveryFee\"\n        :serviceFee=\"serviceFee\"\n        :totalPrice=\"totalPrice\"\n      />\n      <div>\n        <button class=\"btnSubmitCart\" @click=\"submitCart\">Submit</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BasketCard from \"@/components/Cards/BasketCard.vue\";\nimport { mapMutations, mapState } from \"vuex\";\n\nexport default {\n    name: \"CartPage\",\n    data() {\n        return {\n            subTotal: 0,\n            deliveryFee: 0,\n            serviceFee: 0,\n            totalPrice: 0,\n        };\n    },\n    computed: {\n        ...mapState(\"cart\", [\"cart\", \"cartCount\"]),\n    },\n    methods: {\n        clearCart: function () {\n            this.$store.commit(\"cart/clearCart\");\n            this.updateTotal();\n        },\n        updateTotal() {\n            this.subTotal = this.cart.reduce((acc, item) => acc + item.price * item.quantity, 0);\n            this.deliveryFee = 20;\n            this.serviceFee = this.subTotal * 0.025;\n            this.totalPrice = this.subTotal + this.deliveryFee + this.serviceFee;\n        },\n        submitCart() {\n            this.$router.push(\"/orders\");\n        }\n    },\n    mounted() {\n        this.updateTotal();\n    },\n    components: { BasketCard }\n};\n</script>\n\n<style lang=\"scss\">\n.cart-page {\n  &__heading {\n    color: $color-dark;\n    font-size: 20px;\n    font-family: $base-font;\n    font-weight: 600;\n    line-height: 28px;\n    letter-spacing: 0.1px;\n    margin-bottom: 16px;\n    position: relative;\n    height: 30px;\n\n    span {\n      position: absolute;\n      top: 0;\n      left: 0;\n    }\n\n    button {\n      position: absolute;\n      top: 0;\n      right: 0;\n      margin-top: 0px;\n      // background: none;\n      // border: none;\n      // color: $color-primary;\n      // font-size: 16px;\n      font-family: $base-font;\n      font-weight: 600;\n      // letter-spacing: 0.1px;\n      cursor: pointer;\n    }\n  }\n\n  &__content {\n    border: 1px solid $color-grey-lightest;\n    border-radius: 16px;\n    padding: 16px;\n    margin-bottom: 24px;\n  }\n\n  &__content-title {\n    color: $color-dark;\n    font-family: $base-font;\n    font-weight: 700;\n    font-size: 18px;\n    line-height: 24px;\n    letter-spacing: 0.1px;\n    margin-bottom: 16px;\n  }\n}\n\n.btnSubmitCart {\n  width: 100%\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}